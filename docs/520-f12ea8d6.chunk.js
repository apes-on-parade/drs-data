(self.webpackChunkdrs_data=self.webpackChunkdrs_data||[]).push([[520],{6520:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(7294),a=n(9250),l=n(6054);function o(){return function(e,...t){return e[0]+e.slice(1).map(((e,n)=>t[n]+e)).join("")}}var i=n(6914),c=n(6447),s=n(2658);const u=function(e){const{locale:t="en"}=(0,a.UO)("locale"),[u,m]=(0,r.useState)(o);(0,l.Z)((function*(e){let r;try{r=(yield n(2929)(`./locale-${t}.js`)).default}catch(e){console.error(`Failed to load requested locale ${t}`),r=(yield n.e(734).then(n.bind(n,8734))).default}m((()=>r))}),[t]);const{broker:d}=e,{name:f,country:E,drs:p}=d,{hasDirect:h,transferUnavailable:b,isExpensive:y,doesRequireAccount:Z,expectedFee:g,expectedDuration:v}=p,[S,k]=(0,r.useState)(r.createElement(r.Fragment,null));return(0,r.useEffect)((()=>k(function(){if("US"===E||"UM"===E){if(h)return e();if(!h){if(!b)return r.createElement(r.Fragment,null,r.createElement(s.Z,null,u`${f} cannot DRS transfer, but can transfer to other brokers. To DRS, you will first need to transfer to a broker that can DRS, for example Fidelity. See our Fidelity Route Guide`),r.createElement(c.Z,{direction:"row",justifyContent:"center"},r.createElement(i.Z,{variant:"contained",href:"#"},u`Fidelity Route Guide`)));if(b)return r.createElement(r.Fragment,null,r.createElement(s.Z,null,u`${f} cannot DRS transfer, and cannot transfer to other brokers. To DRS, you will need to close out your position and rebuy with a DRS-capable broker or the transfer agent directly.`),r.createElement(c.Z,{direction:"row",justifyContent:"center"},r.createElement(i.Z,{variant:"contained",href:"#"},u`U.S. Sell+Repurchase Guide`)))}}if("US"!==E){if(!1===h){if(!1===b)return r.createElement(r.Fragment,null,r.createElement(s.Z,null,u`${f} cannot DRS transfer, but can transfer to other brokers. To DRS, you will first need to transfer to a broker that can DRS, for example Interactive Brokers (IBKR).`),r.createElement(c.Z,{direction:"row",justifyContent:"center"},r.createElement(i.Z,{variant:"contained",href:"#"},u`IBKR Route Guide`)));if(!0===b)return r.createElement(r.Fragment,null,r.createElement(s.Z,null,u`${f} cannot DRS transfer, and cannot transfer to other brokers. To DRS, you will need to close out your position and rebuy with a DRS broker or the transfer agent directly.`),r.createElement(c.Z,{direction:"row",justifyContent:"center"},r.createElement(i.Z,{variant:"contained",href:"#"},u`Non-U.S. Sell+Repurchase Guide`)),".")}if(!0===h){if(!0===y)return r.createElement(r.Fragment,null,r.createElement(s.Z,null,u`${f} can DRS transfer, but charges an excessive fee to do so (${g}). Although you may DRS directly from this broker, we instead recommend first transfering to a broker that can DRS for a reasonable cost, for example Interactive Brokers (IBKR).`),r.createElement(c.Z,{direction:"row",justifyContent:"center"},r.createElement(i.Z,{variant:"contained",href:"#"},u`IBKR Route Guide`)));if(!Z)return e();if(Z)return r.createElement(r.Fragment,null,r.createElement(s.Z,null,u`This broker requires a pre-existing account at the transfer agent. See our guide to creating an initial account.`),r.createElement(c.Z,{direction:"row",justifyContent:"center"},r.createElement(i.Z,{variant:"contained",href:"#"},u`Creating an Initial Account Guide`)),r.createElement(s.Z,null,u`You can always consult our broker-specific guide for step-by-step instructions.`))}}return;function e(){return r.createElement(s.Z,null,u`Good news! ${f} is able to directly DRS shares upon your request. `,v?u`Expect the request to take ${v} to process. `:"",u`You can always consult our broker-specific guide for step-by-step instructions.`)}}())),[u,d]),S};var m=n(7109),d=n(5295),f=n(8515),E=n(2643),p=n(9161),h=n(6867),b=n(7976),y=n(4510),Z=n(55),g=n(2578),v=n(1753),S=n(1079),k=n(4563),w=n(4721),C=n(1177);const D=function(e){const{locale:t="en"}=(0,a.UO)("locale"),[u,D]=(0,r.useState)(o);(0,l.Z)((function*(e){let r;try{r=(yield n(7583)(`./locale-${t}.js`)).default}catch(e){console.error(`Failed to load requested locale ${t}`),r=(yield n.e(364).then(n.bind(n,7364))).default}D((()=>r))}),[t]);const{security:R,removeSelf:j}=e,{ticker:x,cusip:O,issuer:F,issuerId:T,latestClaimedTransferAgent:U,allClaimedTransferAgents:$,readyToSubmit:N}=R,[I,A]=(0,r.useState)(),[q,M]=(0,r.useState)(!1),[_,G]=(0,r.useState)(),[B,L]=(0,r.useState)(_?.name||"");(0,r.useEffect)((function(){G(!1===N?null:U)}),[U,N]);const K=void 0===_?"#666666":null===_?"#CC9900":"#006600";return r.createElement("div",null,r.createElement("style",null,"@media print {.noprint{display: none;}}"),r.createElement(d.Z,{variant:"outlined"},r.createElement(f.Z,{avatar:r.createElement(m.Z,{sx:{bgcolor:K,width:"5em"},variant:"rounded"},r.createElement("nobr",null,x)),title:F,action:r.createElement(h.Z,{onClick:e=>A(e.currentTarget)},r.createElement(b.Z,null))}),r.createElement(g.Z,{anchorEl:I,open:!!I,onClose:z},r.createElement(v.Z,{onClick:z},r.createElement(S.Z,{sx:{textDecoration:"none",color:"inherit"},target:"_blank",rel:"noopener",href:`/${t}/issuers/${T}`},"View issuer profile")),r.createElement(v.Z,{onClick:P},"Edit Transfer Agent"),r.createElement(v.Z,{onClick:j},"Remove from request")),r.createElement(E.Z,null,!!q&&r.createElement(r.Fragment,null,r.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"Select the issuer's transfer agent to include in your request"),r.createElement(c.Z,{direction:"row",spacing:4},r.createElement(C.Z,{label:"Transfer agent name",sx:{width:"24em"},value:B,onChange:e=>L(e.target.value)}),r.createElement(i.Z,{variant:"outlined",onClick:function(){L(_?.name||""),M(!1)}},r.createElement(y.Z,null)),r.createElement(i.Z,{variant:"contained",onClick:function(){G({name:B}),M(!1)}},r.createElement(Z.Z,null)))),!(q||!_)&&r.createElement(r.Fragment,null,r.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"Send",r.createElement(C.Z,{variant:"standard",type:"number",placeholder:"0",sx:{width:"3em",display:"inline-block",margin:"0 4px"}}),"shares to ",_.name,_.docUrl&&r.createElement(k.Z,{className:"noprint",title:r.createElement(r.Fragment,null,r.createElement("b",null,"Source:"),r.createElement(S.Z,{target:"_blank",rel:"noopener",color:"#fff",href:_.docUrl},_.docUrl))},r.createElement(w.Z,{fontSize:"small",color:"primary",sx:{verticalAlign:"middle",marginRight:1}}))),_.dtcMemberId&&r.createElement(s.Z,null,"DTC Member Number: ",_.dtcMemberId)),!(q||null!==_||U)&&r.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"We do not have information on this issuer's transfer agent."),!(q||null!==_||!U)&&r.createElement(r.Fragment,null,r.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"We have found multiple conflicting sources on this issuer's transfer agent."),r.createElement(c.Z,{direction:"row",spacing:2},$.map(((e,t)=>r.createElement(d.Z,{key:t,sx:{minWidth:"200px"}},r.createElement(E.Z,null,r.createElement(s.Z,null,r.createElement("b",null,"Name:")," ",e.name),e.dtcMemberId&&r.createElement(s.Z,null,r.createElement("b",null,"DTC Member Number:")," ",e.dtcMemberId),r.createElement(s.Z,null,r.createElement("b",null,"Source:"),r.createElement(S.Z,{target:"_blank",rel:"noopener",href:e.docUrl},e.docUrl)),"2"===e?.asOfDate?.value[0]&&r.createElement(s.Z,null,r.createElement("b",null,"Date:")," ",e.asOfDate.value)),r.createElement(p.Z,null,r.createElement(i.Z,{size:"small",variant:"outlined",className:"noprint",onClick:W(e)},"Accept suggestion")))))))),r.createElement(p.Z,null,!q&&null===_&&r.createElement(r.Fragment,null,r.createElement(i.Z,{size:"small",variant:"outlined",className:"noprint",sx:{margin:"0 5px"},href:`https://www.sec.gov/edgar/browse/?CIK=${T}`},"Contact issuer"),r.createElement(i.Z,{size:"small",variant:"outlined",className:"noprint",sx:{margin:"0 5px"},onClick:P},"Manually set transfer agent")))));function z(){A(void 0)}function P(){L(_?.name||""),M(!0)}function W(e){return function(){G(e)}}};var R=n(1174);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function x(e){const t=new AbortController;return e((()=>t.abort())),t}function O(e,t="id"){let n={};for(let r of e)n[r[t]]=r;return n}function F(e,t,n){return n.indexOf(e)===t}const T=e=>{const{locale:t="en"}=(0,a.UO)("locale"),[i,m]=(0,r.useState)(o);(0,l.Z)((function*(e){let r;try{r=(yield n(1390)(`./locale-${t}.js`)).default}catch(e){console.error(`Failed to load requested locale ${t}`),r=(yield n.e(707).then(n.bind(n,2707))).default}m((()=>r))}),[t]);const[d,f]=(0,r.useState)(),[E,p]=(0,r.useState)([]),[h,b]=(0,r.useState)(null),[y,Z]=(0,r.useState)(),[g,v]=(0,r.useState)([]),[S,k]=(0,r.useState)([]);(0,l.Z)((function*(e){const t=yield fetch("/data/securities.json",x(e)),n=yield t.json(),r=n.map((e=>({id:e.id,label:`[${e.ticker.toUpperCase()}] ${e.issuer}`}))),a=O(n);Z(a),v(r)}),[]),(0,l.Z)((function*(e){const t=yield fetch("/data/brokers.json",x(e)),n=yield t.json(),r=n.map((e=>({id:e.id,label:e.name}))),a=O(n);f(a),p(r)}),[]),(0,l.Z)((function*(e){if(!h)return;const t=d[h.id];if(void 0!==t.drsAvailable)return;const n=yield fetch(`/data/brokers/${t.id}.json`,x(e)),r=yield n.json();f({...d,[t.id]:r})}),[h]),(0,l.Z)((function*(e){for(let e of S){let n=y[e.id];n.details||t(n)}return;async function t(e){const t=await fetch(`/data/securities/drs/${e.id}.json`).then((e=>e.json())).then((e=>({details:"ok",...e}))).catch((e=>({details:"error"}))),n=!(!t.latestClaimedTransferAgent||!t.latestClaimedTransferAgent.dtcMemberId||1!==t.allClaimedTransferAgents?.map((e=>e.dtcMemberId)).filter(F).length);Z({...y,[e.id]:{...e,readyToSubmit:n,...t}})}}),[S]);const w=h&&d[h.id],T=S.map((e=>y[e.id])),U=T.filter((e=>!1===e.readyToSubmit)).length;return r.createElement(c.Z,{direction:"column",spacing:4,className:"project-page"},r.createElement("style",null,"@media print {.noprint{display: none;}}"),r.createElement(s.Z,{className:"noprint",style:{textAlign:"center"}},"This form can help you prepare your DRS request. We do not collect or process information entered here, nor submit the request on your behalf."),r.createElement(c.Z,{direction:"row",spacing:1},r.createElement(R.Z,{style:{flexGrow:1},options:E,getOptionLabel:e=>e.label,value:h,onChange:(e,t)=>b(t),renderInput:e=>r.createElement(C.Z,j({},e,{label:"Broker",placeholder:"Your broker"}))})),r.createElement("div",{className:"noprint"},w&&(void 0===w.drs?r.createElement(s.Z,null,i`Loading broker details...`):r.createElement(u,{broker:w}))),r.createElement(R.Z,{multiple:!0,filterSelectedOptions:!0,options:g,getOptionLabel:e=>e.label,value:S,onChange:(e,t)=>k(t),renderInput:e=>r.createElement(C.Z,j({},e,{label:"Securities",placeholder:"Securities (stocks/tickers) to DRS"}))}),T.length>0&&r.createElement(r.Fragment,null,1==U&&r.createElement(s.Z,{className:"noprint"},"⚠️ ",U," security requires attention."),U>1&&r.createElement(s.Z,{className:"noprint"},"⚠️ ",U," securities require attention."),T?.map((e=>{return r.createElement(D,{key:e.id,security:e,removeSelf:(t=e.id,function(){k(S.filter((e=>e.id!==t)))})});var t}))))}},2929:(e,t,n)=>{var r={"./locale-en.js":[8734,734]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=2929,e.exports=a},7583:(e,t,n)=>{var r={"./locale-en.js":[7364,364]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=7583,e.exports=a},1390:(e,t,n)=>{var r={"./locale-en.js":[2707,707]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=1390,e.exports=a}}]);
//# sourceMappingURL=520-f12ea8d6.chunk.js.map