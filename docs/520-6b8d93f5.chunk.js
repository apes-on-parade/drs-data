(self.webpackChunkdrs_data=self.webpackChunkdrs_data||[]).push([[520],{6520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var n=r(7294),a=r(9250),l=r(6054);function o(){return function(e,...t){return e[0]+e.slice(1).map(((e,r)=>t[r]+e)).join("")}}var i=r(6914),c=r(6447),s=r(2658);const u=function(e){const{locale:t="en"}=(0,a.UO)("locale"),[u,m]=(0,n.useState)(o);(0,l.Z)((function*(e){let n;try{n=(yield r(2929)(`./locale-${t}.js`)).default}catch(e){console.error(`Failed to load requested locale ${t}`),n=(yield r.e(734).then(r.bind(r,8734))).default}m((()=>n))}),[t]);const{broker:d,setDisplaySecurities:f}=e,{name:E,country:h,drs:p}=d,{hasDirect:g,transferUnavailable:b,isExpensive:y,doesRequireAccount:Z,expectedFee:v,expectedDuration:k}=p,[w,S]=(0,n.useState)(n.createElement(n.Fragment,null));return(0,n.useEffect)((()=>S(function(){if("US"===h||"UM"===h){if(g)return e();if(!g){if(!b)return f(!1),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`${E} cannot DRS transfer, but can transfer to other brokers. To DRS, you will first need to ACAT transfer to a broker that can DRS, for example Fidelity. Then see our Fidelity Route Guide.`),n.createElement(c.Z,{direction:"row",justifyContent:"center"},n.createElement(i.Z,{variant:"contained",href:"https://www.drsgme.org/post/direct-register-shares-from-fidelity"},u`Fidelity Route Guide`)));if(b)return f(!0),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`${E} cannot DRS transfer, and cannot transfer to other brokers. To DRS, you will need to close out your position and rebuy with a DRS-capable broker or the transfer agent directly.`))}}if("US"!==h){if(!1===g){if(!1===b)return f(!1),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`${E} cannot DRS transfer, but can transfer to other brokers. To DRS, you will first need to transfer to a broker that can DRS, for example Interactive Brokers (IBKR).`),n.createElement(c.Z,{direction:"row",justifyContent:"center"},n.createElement(i.Z,{variant:"contained",href:"https://www.drsgme.org/drs/direct-register-shares-from-interactive-brokers"},u`IBKR Route Guide`)));if(!0===b)return f(!0),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`${E} cannot DRS transfer, and cannot transfer to other brokers. To DRS, you will need to close out your position and rebuy with a DRS broker or the transfer agent directly.`))}if(!0===g){if(!0===y)return f(!0),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`${E} can DRS transfer, but charges an excessive fee to do so (${v}). Although you may DRS directly from this broker, we instead recommend first transfering to a broker that can DRS for a reasonable cost, for example Interactive Brokers (IBKR).`),n.createElement(c.Z,{direction:"row",justifyContent:"center"},n.createElement(i.Z,{variant:"outlined",href:"https://www.drsgme.org/drs/direct-register-shares-from-interactive-brokers"},u`IBKR Route Guide`)));if(!Z)return e();if(Z)return f(!0),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`This broker can DRS, though note that this broker a pre-existing account at the transfer agent.`,"\\"),n.createElement(c.Z,{direction:"row",justifyContent:"center"},n.createElement(i.Z,{variant:"outlined",href:"https://www.drsgme.org/register-from-broker",target:"drs-guide"},u`Broker-specific guides`)))}}return;function e(){return f(!0),n.createElement(n.Fragment,null,n.createElement(s.Z,{style:{textAlign:"center"}},u`Good news! ${E} is able to directly DRS shares upon your request. `,k?u`Expect the request to take ${k} to process. `:"",u`Use the results below to prepare your request, and you can always consult our broker-specific guide for step-by-step instructions.`),n.createElement(c.Z,{direction:"row",justifyContent:"center"},n.createElement(i.Z,{variant:"outlined",href:"https://www.drsgme.org/register-from-broker",target:"drs-guide"},u`Broker-specific guides`)))}}())),[u,d]),w};var m=r(7109),d=r(5295),f=r(8515),E=r(2643),h=r(9161),p=r(6867),g=r(7976),b=r(4510),y=r(55),Z=r(2578),v=r(1753),k=r(1079),w=r(4563),S=r(4721),x=r(1177);const C=function(e){const{locale:t="en"}=(0,a.UO)("locale"),[u,C]=(0,n.useState)(o);(0,l.Z)((function*(e){let n;try{n=(yield r(7583)(`./locale-${t}.js`)).default}catch(e){console.error(`Failed to load requested locale ${t}`),n=(yield r.e(364).then(r.bind(r,7364))).default}C((()=>n))}),[t]);const{security:D,removeSelf:R}=e,{ticker:j,cusip:A,issuer:F,issuerId:O,latestClaimedTransferAgent:T,allClaimedTransferAgents:$,readyToSubmit:U}=D,[N,I]=(0,n.useState)(),[q,M]=(0,n.useState)(!1),[_,B]=(0,n.useState)(),[G,L]=(0,n.useState)(_?.name||"");(0,n.useEffect)((function(){B(!1===U?null:T)}),[T,U]);const K=void 0===_?"#666666":null===_?"#CC9900":"#006600";return n.createElement("div",null,n.createElement("style",null,"@media print {.noprint{display: none;}}"),n.createElement(d.Z,{variant:"outlined"},n.createElement(f.Z,{avatar:n.createElement(m.Z,{sx:{bgcolor:K,width:"5em"},variant:"rounded"},n.createElement("nobr",null,j)),title:F,action:n.createElement(p.Z,{onClick:e=>I(e.currentTarget)},n.createElement(g.Z,null))}),n.createElement(Z.Z,{anchorEl:N,open:!!N,onClose:z},n.createElement(v.Z,{onClick:z},n.createElement(k.Z,{sx:{textDecoration:"none",color:"inherit"},target:"_blank",rel:"noopener",href:`/${t}/issuers/${O}`},"View issuer profile")),n.createElement(v.Z,{onClick:P},"Edit Transfer Agent"),n.createElement(v.Z,{onClick:R},"Remove from request")),n.createElement(E.Z,null,!!q&&n.createElement(n.Fragment,null,n.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"Select the issuer's transfer agent to include in your request"),n.createElement(c.Z,{direction:"row",spacing:4},n.createElement(x.Z,{label:"Transfer agent name",sx:{width:"24em"},value:G,onChange:e=>L(e.target.value)}),n.createElement(i.Z,{variant:"outlined",onClick:function(){L(_?.name||""),M(!1)}},n.createElement(b.Z,null)),n.createElement(i.Z,{variant:"contained",onClick:function(){B({name:G}),M(!1)}},n.createElement(y.Z,null)))),!(q||!_)&&n.createElement(n.Fragment,null,n.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"Send",n.createElement(x.Z,{variant:"standard",type:"number",placeholder:"0",sx:{width:"3em",display:"inline-block",margin:"0 4px"}}),"shares to ",_.name,_.docUrl&&n.createElement(w.Z,{className:"noprint",title:n.createElement(n.Fragment,null,n.createElement("b",null,"Source:"),n.createElement(k.Z,{target:"_blank",rel:"noopener",color:"#fff",href:_.docUrl},_.docUrl))},n.createElement(S.Z,{fontSize:"small",color:"primary",sx:{verticalAlign:"middle",marginRight:1}}))),_.dtcMemberId&&n.createElement(s.Z,null,"DTC Member Number: ",_.dtcMemberId)),!(q||null!==_||T)&&n.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"We do not have information on this issuer's transfer agent."),!(q||null!==_||!T)&&n.createElement(n.Fragment,null,n.createElement(s.Z,{mb:2,variant:"h6",component:"div"},"We have found multiple conflicting sources on this issuer's transfer agent."),n.createElement(c.Z,{direction:"row",spacing:2},$.map(((e,t)=>n.createElement(d.Z,{key:t,sx:{minWidth:"200px"}},n.createElement(E.Z,null,n.createElement(s.Z,null,n.createElement("b",null,"Name:")," ",e.name),e.dtcMemberId&&n.createElement(s.Z,null,n.createElement("b",null,"DTC Member Number:")," ",e.dtcMemberId),n.createElement(s.Z,null,n.createElement("b",null,"Source:"),n.createElement(k.Z,{target:"_blank",rel:"noopener",href:e.docUrl},e.docUrl)),"2"===e?.asOfDate?.value[0]&&n.createElement(s.Z,null,n.createElement("b",null,"Date:")," ",e.asOfDate.value)),n.createElement(h.Z,null,n.createElement(i.Z,{size:"small",variant:"outlined",className:"noprint",onClick:W(e)},"Accept suggestion")))))))),n.createElement(h.Z,null,!q&&null===_&&n.createElement(n.Fragment,null,n.createElement(i.Z,{size:"small",variant:"outlined",className:"noprint",sx:{margin:"0 5px"},href:`https://www.sec.gov/edgar/browse/?CIK=${O}`},"Contact issuer"),n.createElement(i.Z,{size:"small",variant:"outlined",className:"noprint",sx:{margin:"0 5px"},onClick:P},"Manually set transfer agent")))));function z(){I(void 0)}function P(){L(_?.name||""),M(!0)}function W(e){return function(){B(e)}}};var D=r(1174);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}function j(e){const t=new AbortController;return e((()=>t.abort())),t}function A(e,t="id"){let r={};for(let n of e)r[n[t]]=n;return r}function F(e,t,r){return r.indexOf(e)===t}const O=e=>{const{locale:t="en"}=(0,a.UO)("locale"),[i,m]=(0,n.useState)(o);(0,l.Z)((function*(e){let n;try{n=(yield r(1390)(`./locale-${t}.js`)).default}catch(e){console.error(`Failed to load requested locale ${t}`),n=(yield r.e(707).then(r.bind(r,2707))).default}m((()=>n))}),[t]);const[d,f]=(0,n.useState)(),[E,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(null),[b,y]=(0,n.useState)(),[Z,v]=(0,n.useState)([]),[k,w]=(0,n.useState)([]),[S,O]=(0,n.useState)(!0),T=p&&d[p.id],$=k.map((e=>b[e.id])),U=$.filter((e=>!1===e.readyToSubmit)).length;return(0,l.Z)((function*(e){const t=yield fetch("/data/securities.json",j(e)),r=yield t.json(),n=r.map((e=>({id:e.id,label:`[${e.ticker.toUpperCase()}] ${e.issuer}`}))),a=A(r);y(a),v(n)}),[]),(0,l.Z)((function*(e){const t=yield fetch("/data/brokers.json",j(e)),r=yield t.json(),n=r.map((e=>({id:e.id,label:e.name}))),a=A(r);f(a),h(n)}),[]),(0,l.Z)((function*(e){if(!p)return;const t=d[p.id];if(void 0!==t.drsAvailable)return;const r=yield fetch(`/data/brokers/${t.id}.json`,j(e)),n=yield r.json();f({...d,[t.id]:n})}),[p]),(0,l.Z)((function*(e){for(let e of k){let r=b[e.id];r.details||t(r)}return;async function t(e){const t=await fetch(`/data/securities/drs/${e.id}.json`).then((e=>e.json())).then((e=>({details:"ok",...e}))).catch((e=>({details:"error"}))),r=!(!t.latestClaimedTransferAgent||!t.latestClaimedTransferAgent.dtcMemberId||1!==t.allClaimedTransferAgents?.map((e=>e.dtcMemberId)).filter(F).length);y({...b,[e.id]:{...e,readyToSubmit:r,...t}})}}),[k]),(0,n.useEffect)((()=>{!T&&O(!0)}),[T]),n.createElement(c.Z,{direction:"column",spacing:4,className:"project-page"},n.createElement("style",null,"@media print {.noprint{display: none;}}"),n.createElement(s.Z,{className:"noprint",style:{textAlign:"center"}},"This form can help you prepare your DRS request. We do not collect or process information entered here, nor submit the request on your behalf."),n.createElement(c.Z,{direction:"row",spacing:1},n.createElement(D.Z,{style:{flexGrow:1},options:E,getOptionLabel:e=>e.label,value:p,onChange:(e,t)=>g(t),renderInput:e=>n.createElement(x.Z,R({},e,{label:"Broker",placeholder:"Your broker"}))})),n.createElement("div",{className:"noprint"},T&&(void 0===T.drs?n.createElement(s.Z,{style:{textAlign:"center"}},i`Loading broker details...`):n.createElement(u,{broker:T,setDisplaySecurities:O}))),S&&n.createElement(n.Fragment,null,n.createElement(D.Z,{multiple:!0,filterSelectedOptions:!0,options:Z,getOptionLabel:e=>e.label,value:k,onChange:(e,t)=>w(t),renderInput:e=>n.createElement(x.Z,R({},e,{label:"Securities",placeholder:"Securities (stocks/tickers) to DRS"}))}),$.length>0&&n.createElement(n.Fragment,null,1==U&&n.createElement(s.Z,{className:"noprint",style:{textAlign:"center"}},"⚠️ ",U," security requires attention."),U>1&&n.createElement(s.Z,{className:"noprint",style:{textAlign:"center"}},"⚠️ ",U," securities require attention."),$?.map((e=>{return n.createElement(C,{key:e.id,security:e,removeSelf:(t=e.id,function(){w(k.filter((e=>e.id!==t)))})});var t})))))}},2929:(e,t,r)=>{var n={"./locale-en.js":[8734,734]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(n),a.id=2929,e.exports=a},7583:(e,t,r)=>{var n={"./locale-en.js":[7364,364]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(n),a.id=7583,e.exports=a},1390:(e,t,r)=>{var n={"./locale-en.js":[2707,707]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(n),a.id=1390,e.exports=a}}]);
//# sourceMappingURL=520-6b8d93f5.chunk.js.map